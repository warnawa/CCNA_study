# –¢–∏–∂–¥–µ–Ω—å 9-10: –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∏–π —Ä—ñ–≤–µ–Ω—å —Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏

## üìö –ú–µ—Ç–∞ –º–æ–¥—É–ª—è
–û—Ç—Ä–∏–º–∞—Ç–∏ –≥–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è, –ø—Ä–æ—Ç–æ–∫–æ–ª—ñ–≤ TCP —Ç–∞ UDP, –∞ —Ç–∞–∫–æ–∂ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª—ñ–≤ –º–µ—Ä–µ–∂–µ–≤–æ–≥–æ —Ä—ñ–≤–Ω—è, —è–∫—ñ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –º–µ—Ä–µ–∂—ñ.

**–û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:**
- –†–æ–∑—É–º—ñ—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ TCP —Ç–∞ UDP
- –ó–Ω–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è TCP –∑'—î–¥–Ω–∞–Ω–Ω—è
- –†–æ–∑—É–º—ñ—Ç–∏ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ä—Ç—ñ–≤ —Ç–∞ —Å–æ–∫–µ—Ç—ñ–≤
- –ó–Ω–∞—Ç–∏ –æ—Å–Ω–æ–≤–∏ ARP, ICMP, DHCP, DNS, NAT
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ DHCP —Ç–∞ NAT

---

## üìñ –¢–µ–º–∞ 5.1: TCP —Ç–∞ UDP

### 5.1.1 TCP (Transmission Control Protocol)

**TCP** - —Ü–µ –Ω–∞–¥—ñ–π–Ω–∏–π, –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è –ø—Ä–æ—Ç–æ–∫–æ–ª —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è.

#### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ TCP:

1. **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å:**
   - –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è (Acknowledgments)
   - –ü–æ–≤—Ç–æ—Ä–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –≤—Ç—Ä–∞—á–µ–Ω–∏—Ö —Å–µ–≥–º–µ–Ω—Ç—ñ–≤
   - –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–º–∏–ª–æ–∫

2. **–û—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è:**
   - –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑'—î–¥–Ω–∞–Ω–Ω—è –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ—é
   - –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑'—î–¥–Ω–∞–Ω–Ω—è –ø—ñ—Å–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ

3. **–£–ø–æ—Ä—è–¥–∫–æ–≤–∞–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞:**
   - –°–µ–≥–º–µ–Ω—Ç–∏ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—å—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É
   - –ù—É–º–µ—Ä–∞—Ü—ñ—è —Å–µ–≥–º–µ–Ω—Ç—ñ–≤

4. **–ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫—É:**
   - –†–µ–≥—É–ª—é–≤–∞–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ –ø–µ—Ä–µ–¥–∞—á—ñ
   - –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—é –ø—Ä–∏–π–º–∞—á–∞

5. **Full-duplex:**
   - –û–¥–Ω–æ—á–∞—Å–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –≤ –æ–±–æ—Ö –Ω–∞–ø—Ä—è–º–∫–∞—Ö

#### –§–æ—Ä–º–∞—Ç TCP —Å–µ–≥–º–µ–Ω—Ç–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Source Port (16 bits) ‚îÇ Destination Port (16 bits)      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Sequence Number (32 bits)                                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Acknowledgment Number (32 bits)                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Data Offset ‚îÇ Reserved ‚îÇ Flags ‚îÇ Window Size (16 bits)   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Checksum (16 bits) ‚îÇ Urgent Pointer (16 bits)           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Options (variable)                                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Data (variable)                                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–û—Å–Ω–æ–≤–Ω—ñ –ø–æ–ª—è:**
- **Source Port:** –ü–æ—Ä—Ç –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞
- **Destination Port:** –ü–æ—Ä—Ç –æ—Ç—Ä–∏–º—É–≤–∞—á–∞
- **Sequence Number:** –ù–æ–º–µ—Ä –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ
- **Acknowledgment Number:** –ù–æ–º–µ—Ä –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
- **Flags:** –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø—Ä–∞–ø–æ—Ä—Ü—ñ (SYN, ACK, FIN, —Ç–æ—â–æ)
- **Window Size:** –†–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é –ø–æ—Ç–æ–∫—É
- **Checksum:** –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ —Å—É–º–∞

---

### 5.1.2 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑'—î–¥–Ω–∞–Ω–Ω—è (3-way handshake)

**3-way handshake** - –ø—Ä–æ—Ü–µ—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è TCP –∑'—î–¥–Ω–∞–Ω–Ω—è –º—ñ–∂ –¥–≤–æ–º–∞ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏.

#### –ö—Ä–æ–∫–∏ –ø—Ä–æ—Ü–µ—Å—É:

**–ö—Ä–æ–∫ 1: SYN (Synchronize)**
```
–ö–ª—ñ—î–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä
Flags: SYN=1, ACK=0
Sequence Number: X (–≤–∏–ø–∞–¥–∫–æ–≤–µ —á–∏—Å–ª–æ)
```

**–ö—Ä–æ–∫ 2: SYN-ACK (Synchronize-Acknowledgment)**
```
–°–µ—Ä–≤–µ—Ä ‚Üí –ö–ª—ñ—î–Ω—Ç
Flags: SYN=1, ACK=1
Sequence Number: Y (–≤–∏–ø–∞–¥–∫–æ–≤–µ —á–∏—Å–ª–æ)
Acknowledgment Number: X+1
```

**–ö—Ä–æ–∫ 3: ACK (Acknowledgment)**
```
–ö–ª—ñ—î–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä
Flags: SYN=0, ACK=1
Sequence Number: X+1
Acknowledgment Number: Y+1
```

#### –í—ñ–∑—É–∞–ª—å–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥:

```
–ö–ª—ñ—î–Ω—Ç                    –°–µ—Ä–≤–µ—Ä
  ‚îÇ                         ‚îÇ
  ‚îÇ‚îÄ‚îÄ‚îÄ SYN (seq=X) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ
  ‚îÇ                         ‚îÇ
  ‚îÇ<‚îÄ‚îÄ SYN-ACK (seq=Y,      ‚îÇ
  ‚îÇ     ack=X+1) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
  ‚îÇ                         ‚îÇ
  ‚îÇ‚îÄ‚îÄ‚îÄ ACK (ack=Y+1) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ
  ‚îÇ                         ‚îÇ
  ‚îÇ –ó'—î–¥–Ω–∞–Ω–Ω—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ   ‚îÇ
```

#### –°—Ç–∞–Ω–∏ TCP –ø—ñ–¥ —á–∞—Å handshake:

**–ù–∞ –∫–ª—ñ—î–Ω—Ç—ñ:**
1. CLOSED ‚Üí SYN_SENT ‚Üí ESTABLISHED

**–ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ:**
1. LISTEN ‚Üí SYN_RECEIVED ‚Üí ESTABLISHED

#### –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:

- –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –Ω–æ–º–µ—Ä—ñ–≤ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ
- –û–±–º—ñ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (MSS - Maximum Segment Size)
- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑'—î–¥–Ω–∞–Ω–Ω—è –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ—é –¥–∞–Ω–∏—Ö

---

### 5.1.3 –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑'—î–¥–Ω–∞–Ω–Ω—è

**–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è TCP –∑'—î–¥–Ω–∞–Ω–Ω—è** - –ø—Ä–æ—Ü–µ—Å –∑–∞–∫—Ä–∏—Ç—Ç—è –∑'—î–¥–Ω–∞–Ω–Ω—è (4-way handshake).

#### –ö—Ä–æ–∫–∏ –ø—Ä–æ—Ü–µ—Å—É:

**–ö—Ä–æ–∫ 1: FIN (Finish)**
```
–ö–ª—ñ—î–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä
Flags: FIN=1, ACK=1
```

**–ö—Ä–æ–∫ 2: ACK**
```
–°–µ—Ä–≤–µ—Ä ‚Üí –ö–ª—ñ—î–Ω—Ç
Flags: ACK=1
```

**–ö—Ä–æ–∫ 3: FIN**
```
–°–µ—Ä–≤–µ—Ä ‚Üí –ö–ª—ñ—î–Ω—Ç
Flags: FIN=1, ACK=1
```

**–ö—Ä–æ–∫ 4: ACK**
```
–ö–ª—ñ—î–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä
Flags: ACK=1
```

#### –í—ñ–∑—É–∞–ª—å–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥:

```
–ö–ª—ñ—î–Ω—Ç                    –°–µ—Ä–≤–µ—Ä
  ‚îÇ                         ‚îÇ
  ‚îÇ‚îÄ‚îÄ‚îÄ FIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ
  ‚îÇ                         ‚îÇ
  ‚îÇ<‚îÄ‚îÄ ACK ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
  ‚îÇ                         ‚îÇ
  ‚îÇ<‚îÄ‚îÄ FIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
  ‚îÇ                         ‚îÇ
  ‚îÇ‚îÄ‚îÄ‚îÄ ACK ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ
  ‚îÇ                         ‚îÇ
  ‚îÇ –ó'—î–¥–Ω–∞–Ω–Ω—è –∑–∞–∫—Ä–∏—Ç–æ        ‚îÇ
```

#### –°—Ç–∞–Ω–∏ TCP –ø—ñ–¥ —á–∞—Å –∑–∞–∫—Ä–∏—Ç—Ç—è:

**–ù–∞ –∫–ª—ñ—î–Ω—Ç—ñ:**
ESTABLISHED ‚Üí FIN_WAIT_1 ‚Üí FIN_WAIT_2 ‚Üí TIME_WAIT ‚Üí CLOSED

**–ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ:**
ESTABLISHED ‚Üí CLOSE_WAIT ‚Üí LAST_ACK ‚Üí CLOSED

#### TIME_WAIT —Å—Ç–∞–Ω:

- –¢—Ä–∏–≤–∞—î 2 MSL (Maximum Segment Lifetime)
- –ó–∞–±–µ–∑–ø–µ—á—É—î –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ ACK
- –ó–∞–ø–æ–±—ñ–≥–∞—î –ø—Ä–æ–±–ª–µ–º–∞–º –∑ –Ω–æ–≤–∏–º–∏ –∑'—î–¥–Ω–∞–Ω–Ω—è–º–∏

---

### 5.1.4 –ü–æ—Ä—è–¥–∫–æ–≤—ñ –Ω–æ–º–µ—Ä–∏ —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è

#### Sequence Number (–ü–æ—Ä—è–¥–∫–æ–≤–∏–π –Ω–æ–º–µ—Ä):

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**
- –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ–∂–Ω–æ–≥–æ –±–∞–π—Ç–∞ –¥–∞–Ω–∏—Ö
- –ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫—É
- –í–∏—è–≤–ª–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**
```
–ü–æ—á–∞—Ç–∫–æ–≤–∏–π –Ω–æ–º–µ—Ä: –≤–∏–ø–∞–¥–∫–æ–≤–µ —á–∏—Å–ª–æ (–ø—ñ–¥ —á–∞—Å handshake)
–ö–æ–∂–µ–Ω –±–∞–π—Ç –º–∞—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä
–ù–æ–º–µ—Ä –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è –Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±–∞–π—Ç—ñ–≤ —É —Å–µ–≥–º–µ–Ω—Ç—ñ
```

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–°–µ–≥–º–µ–Ω—Ç 1: seq=1000, len=100 ‚Üí –Ω–∞—Å—Ç—É–ø–Ω–∏–π seq=1100
–°–µ–≥–º–µ–Ω—Ç 2: seq=1100, len=200 ‚Üí –Ω–∞—Å—Ç—É–ø–Ω–∏–π seq=1300
```

#### Acknowledgment Number (–ù–æ–º–µ—Ä –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è):

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**
- –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
- –í–∫–∞–∑—É—î –Ω–∞—Å—Ç—É–ø–Ω–∏–π –æ—á—ñ–∫—É–≤–∞–Ω–∏–π –Ω–æ–º–µ—Ä

**–§–æ—Ä–º—É–ª–∞:**
```
ACK Number = Sequence Number –æ—Ç—Ä–∏–º–∞–Ω–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ + Length + 1
```

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–û—Ç—Ä–∏–º–∞–Ω–æ: seq=1000, len=100
–í—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è: ACK=1101 (1000 + 100 + 1)
```

#### –ú–µ—Ö–∞–Ω—ñ–∑–º –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è:

**Cumulative Acknowledgment:**
- –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î –≤—Å—ñ –±–∞–π—Ç–∏ –¥–æ –≤–∫–∞–∑–∞–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞
- –Ø–∫—â–æ –æ—Ç—Ä–∏–º–∞–Ω–æ —Å–µ–≥–º–µ–Ω—Ç 1000-1099 —Ç–∞ 1200-1299 (–ø—Ä–æ–ø—É—â–µ–Ω–æ 1100-1199)
- ACK=1100 (–Ω–µ ACK=1300, –±–æ —î –ø—Ä–æ–ø—É—Å–∫)

**Selective Acknowledgment (SACK):**
- –ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –≤ —Å—É—á–∞—Å–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è—Ö
- –î–æ–∑–≤–æ–ª—è—î –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º—ñ –¥—ñ–ª—è–Ω–∫–∏

---

### 5.1.5 –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫—É (Flow Control)

**Flow Control** - –º–µ—Ö–∞–Ω—ñ–∑–º —Ä–µ–≥—É–ª—é–≤–∞–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö.

#### –ü—Ä–æ–±–ª–µ–º–∞:

- –í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫ –º–æ–∂–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ —à–≤–∏–¥—à–µ, –Ω—ñ–∂ –ø—Ä–∏–π–º–∞—á –º–æ–∂–µ –æ–±—Ä–æ–±–∏—Ç–∏
- –ü—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è –±—É—Ñ–µ—Ä–∞ –ø—Ä–∏–π–º–∞—á–∞
- –í—Ç—Ä–∞—Ç–∞ –¥–∞–Ω–∏—Ö

#### –†—ñ—à–µ–Ω–Ω—è: Window Size (–†–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞)

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**
```
–ü—Ä–∏–π–º–∞—á –≤–∫–∞–∑—É—î —Ä–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞ –≤ TCP –∑–∞–≥–æ–ª–æ–≤–∫—É
–í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫ –º–æ–∂–µ –ø–µ—Ä–µ–¥–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Å—Ç—ñ–ª—å–∫–∏ –¥–∞–Ω–∏—Ö, —Å–∫—ñ–ª—å–∫–∏ –≤–∫–∞–∑—É—î –≤—ñ–∫–Ω–æ
–ü—Ä–∏–π–º–∞—á –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ä–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞ –¥–∏–Ω–∞–º—ñ—á–Ω–æ
```

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–ü—Ä–∏–π–º–∞—á: Window Size = 5000 –±–∞–π—Ç—ñ–≤
–í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫ –º–æ–∂–µ –ø–µ—Ä–µ–¥–∞—Ç–∏ –º–∞–∫—Å–∏–º—É–º 5000 –±–∞–π—Ç—ñ–≤ –±–µ–∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
–ü—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è ACK –º–æ–∂–µ –ø–µ—Ä–µ–¥–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ 5000 –±–∞–π—Ç—ñ–≤
```

#### Zero Window:

**–°–∏—Ç—É–∞—Ü—ñ—è:**
```
–ü—Ä–∏–π–º–∞—á –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î Window Size = 0
–í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫ –ø—Ä–∏–∑—É–ø–∏–Ω—è—î –ø–µ—Ä–µ–¥–∞—á—É
–ö–æ–ª–∏ –±—É—Ñ–µ—Ä –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è, –ø—Ä–∏–π–º–∞—á –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î Window Size > 0
```

#### Window Scaling:

- –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É –≤—ñ–∫–Ω–∞ –¥–ª—è –≤–∏—Å–æ–∫–æ—à–≤–∏–¥–∫—ñ—Å–Ω–∏—Ö –∑'—î–¥–Ω–∞–Ω—å
- –ú–Ω–æ–∂–Ω–∏–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å handshake
- –î–æ–∑–≤–æ–ª—è—î –≤—ñ–∫–Ω–∞ –±—ñ–ª—å—à–µ 65535 –±–∞–π—Ç—ñ–≤

---

### 5.1.6 –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (Congestion Control)

**Congestion Control** - –º–µ—Ö–∞–Ω—ñ–∑–º –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—é –º–µ—Ä–µ–∂—ñ.

#### –ü—Ä–æ–±–ª–µ–º–∞:

- –ó–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ –¥–∞–Ω–∏—Ö –≤ –º–µ—Ä–µ–∂—ñ
- –ü–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è –±—É—Ñ–µ—Ä—ñ–≤ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ñ–≤
- –í—Ç—Ä–∞—Ç–∞ –ø–∞–∫–µ—Ç—ñ–≤
- –ó–Ω–∏–∂–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

#### –ú–µ—Ö–∞–Ω—ñ–∑–º–∏:

**1. Slow Start:**
- –ü–æ—á–∏–Ω–∞—î –∑ –º–∞–ª–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É –≤—ñ–∫–Ω–∞
- –ü–æ–¥–≤–æ—é—î —Ä–æ–∑–º—ñ—Ä –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —É—Å–ø—ñ—à–Ω–æ–º—É ACK
- –ü—Ä–æ–¥–æ–≤–∂—É—î –¥–æ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è threshold –∞–±–æ –≤—Ç—Ä–∞—Ç–∏ –ø–∞–∫–µ—Ç–∞

**2. Congestion Avoidance:**
- –ü—ñ—Å–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è threshold
- –ó–±—ñ–ª—å—à—É—î —Ä–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞ –ª—ñ–Ω—ñ–π–Ω–æ
- –ë—ñ–ª—å—à –æ–±–µ—Ä–µ–∂–Ω–µ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è

**3. Fast Retransmit:**
- –ü—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ 3 –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ ACK
- –ù–µ —á–µ–∫–∞—î —Ç–∞–π–º–∞—É—Ç—É
- –í—ñ–¥—Ä–∞–∑—É –ø–æ–≤—Ç–æ—Ä—é—î –ø–µ—Ä–µ–¥–∞—á—É

**4. Fast Recovery:**
- –ü—ñ—Å–ª—è Fast Retransmit
- –ó–º–µ–Ω—à—É—î threshold
- –ü—Ä–æ–¥–æ–≤–∂—É—î –∑ Congestion Avoidance

#### –í—ñ–∑—É–∞–ª—å–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥:

```
–†–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞
    ‚îÇ
    ‚îÇ     ‚ï±‚ï≤
    ‚îÇ    ‚ï±  ‚ï≤
    ‚îÇ   ‚ï±    ‚ï≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ (Congestion Avoidance)
    ‚îÇ  ‚ï±      ‚ï≤
    ‚îÇ ‚ï±        ‚ï≤
    ‚îÇ‚ï±          ‚ï≤
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ> –ß–∞—Å
    Slow Start
```

---

### 5.1.7 UDP (User Datagram Protocol)

**UDP** - —Ü–µ –Ω–µ–Ω–∞–¥—ñ–π–Ω–∏–π, –Ω–µ–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è –ø—Ä–æ—Ç–æ–∫–æ–ª —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è.

#### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ UDP:

1. **–ù–µ–Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å:**
   - –ù–µ–º–∞—î –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—å
   - –ù–µ–º–∞—î –ø–æ–≤—Ç–æ—Ä–Ω–æ—ó –ø–µ—Ä–µ–¥–∞—á—ñ
   - –ú–æ–∂–ª–∏–≤–∞ –≤—Ç—Ä–∞—Ç–∞ –¥–∞–Ω–∏—Ö

2. **–ù–µ–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è:**
   - –ù–µ–º–∞—î –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑'—î–¥–Ω–∞–Ω–Ω—è
   - –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–∏—Ö –±–µ–∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏

3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞:**
   - –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π overhead
   - –®–≤–∏–¥—à–∞ –æ–±—Ä–æ–±–∫–∞

4. **–ù–µ–º–∞—î –∫–æ–Ω—Ç—Ä–æ–ª—é –ø–æ—Ç–æ–∫—É:**
   - –ù–µ–º–∞—î —Ä–µ–≥—É–ª—é–≤–∞–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
   - –í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫ –ø–µ—Ä–µ–¥–∞—î –∑ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—é —à–≤–∏–¥–∫—ñ—Å—Ç—é

#### –§–æ—Ä–º–∞—Ç UDP –¥–∞—Ç–∞–≥—Ä–∞–º–∏:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Source Port (16 bits) ‚îÇ Dest Port (16)  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Length (16 bits) ‚îÇ Checksum (16 bits)   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Data (variable)                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–æ–ª—è:**
- **Source Port:** –ü–æ—Ä—Ç –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞
- **Destination Port:** –ü–æ—Ä—Ç –æ—Ç—Ä–∏–º—É–≤–∞—á–∞
- **Length:** –î–æ–≤–∂–∏–Ω–∞ –¥–∞—Ç–∞–≥—Ä–∞–º–∏
- **Checksum:** –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ —Å—É–º–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

#### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è UDP:

1. **Real-time –¥–æ–¥–∞—Ç–∫–∏:**
   - VoIP (Voice over IP)
   - –í—ñ–¥–µ–æ streaming
   - –û–Ω–ª–∞–π–Ω —ñ–≥—Ä–∏

2. **DNS –∑–∞–ø–∏—Ç–∏:**
   - –®–≤–∏–¥–∫—ñ –∑–∞–ø–∏—Ç–∏
   - –ù–µ–≤–µ–ª–∏–∫—ñ –æ–±—Å—è–≥–∏ –¥–∞–Ω–∏—Ö

3. **DHCP:**
   - –®–≤–∏–¥–∫–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

4. **SNMP:**
   - –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ä–µ–∂—ñ

---

### 5.1.8 –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è TCP —Ç–∞ UDP

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | TCP | UDP |
|----------------|-----|-----|
| –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å | –ù–∞–¥—ñ–π–Ω–∏–π | –ù–µ–Ω–∞–¥—ñ–π–Ω–∏–π |
| –ó'—î–¥–Ω–∞–Ω–Ω—è | –û—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π | –ù–µ–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π |
| –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è | –¢–∞–∫ | –ù—ñ |
| –ü–æ–≤—Ç–æ—Ä–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ | –¢–∞–∫ | –ù—ñ |
| –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫—É | –¢–∞–∫ | –ù—ñ |
| –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è | –¢–∞–∫ | –ù—ñ |
| –£–ø–æ—Ä—è–¥–∫–æ–≤–∞–Ω—ñ—Å—Ç—å | –¢–∞–∫ | –ù—ñ |
| Overhead | –í–∏—Å–æ–∫–∏–π | –ù–∏–∑—å–∫–∏–π |
| –®–≤–∏–¥–∫—ñ—Å—Ç—å | –ü–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π | –®–≤–∏–¥—à–∏–π |
| –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è | HTTP, FTP, Email | DNS, DHCP, VoIP |

#### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ TCP:

- –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å
- –ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª—ñ–≤
- –í–µ–±-–±—Ä–∞—É–∑–∏–Ω–≥
- Email
- –ö–æ–ª–∏ –ø–æ—Ä—è–¥–æ–∫ –≤–∞–∂–ª–∏–≤–∏–π

#### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ UDP:

- Real-time –¥–æ–¥–∞—Ç–∫–∏
- –ö–æ–ª–∏ —à–≤–∏–¥–∫—ñ—Å—Ç—å –≤–∞–∂–ª–∏–≤—ñ—à–∞ –∑–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å
- –ù–µ–≤–µ–ª–∏–∫—ñ –∑–∞–ø–∏—Ç–∏ (DNS)
- –ö–æ–ª–∏ –≤—Ç—Ä–∞—Ç–∞ –¥–µ—è–∫–∏—Ö –ø–∞–∫–µ—Ç—ñ–≤ –¥–æ–ø—É—Å—Ç–∏–º–∞

---

### 5.1.9 –ü–æ—Ä—Ç–∏ —Ç–∞ —Å–æ–∫–µ—Ç–∏

#### –ü–æ—Ä—Ç–∏ (Ports):

**–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**
- 16-–±—ñ—Ç–Ω–µ —á–∏—Å–ª–æ (0-65535)
- –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É—î –¥–æ–¥–∞—Ç–æ–∫ –∞–±–æ —Å–µ—Ä–≤—ñ—Å
- –ö–æ–º–±—ñ–Ω—É—î—Ç—å—Å—è –∑ IP-–∞–¥—Ä–µ—Å–æ—é —É—Ç–≤–æ—Ä—é—î —Å–æ–∫–µ—Ç

#### –î—ñ–∞–ø–∞–∑–æ–Ω–∏ –ø–æ—Ä—Ç—ñ–≤:

**Well-Known Ports (0-1023):**
- –ó–∞—Ä–µ–∑–µ—Ä–≤–æ–≤–∞–Ω—ñ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
- –ü—Ä–∏–∫–ª–∞–¥–∏:
  - 20, 21: FTP
  - 22: SSH
  - 23: Telnet
  - 25: SMTP
  - 53: DNS
  - 80: HTTP
  - 443: HTTPS

**Registered Ports (1024-49151):**
- –†–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤
- –ü—Ä–∏–∫–ª–∞–¥–∏:
  - 3306: MySQL
  - 5432: PostgreSQL
  - 8080: HTTP –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π

**Dynamic/Private Ports (49152-65535):**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∫–ª—ñ—î–Ω—Ç–∞–º–∏ –¥–ª—è —Ç–∏–º—á–∞—Å–æ–≤–∏—Ö –∑'—î–¥–Ω–∞–Ω—å
- –ü—Ä–∏–∑–Ω–∞—á–∞—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ

#### –°–æ–∫–µ—Ç–∏ (Sockets):

**–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**
- –ö–æ–º–±—ñ–Ω–∞—Ü—ñ—è IP-–∞–¥—Ä–µ—Å–∏ —Ç–∞ –ø–æ—Ä—Ç—É
- –§–æ—Ä–º–∞—Ç: `IP:Port`
- –ü—Ä–∏–∫–ª–∞–¥: `192.168.1.1:80`

**–¢–∏–ø–∏:**
- **Server Socket:** –°–ª—É—Ö–∞—î –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ—Ä—Ç—É
- **Client Socket:** –ü—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ server socket

#### –ü—Ä–∏–∫–ª–∞–¥ –∑'—î–¥–Ω–∞–Ω–Ω—è:

```
–ö–ª—ñ—î–Ω—Ç: 192.168.1.10:50000 ‚Üí –°–µ—Ä–≤–µ—Ä: 192.168.1.1:80
        ‚îÇ                    ‚îÇ
     Source              Destination
     Socket                Socket
```

---

## üìñ –¢–µ–º–∞ 5.2: –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏

### 5.2.1 ARP (Address Resolution Protocol)

**ARP** - –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è MAC-–∞–¥—Ä–µ—Å–∏ –∑–∞ IP-–∞–¥—Ä–µ—Å–æ—é.

#### –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:

- –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è IP-–∞–¥—Ä–µ—Å–∏ –≤ MAC-–∞–¥—Ä–µ—Å—É
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–∏—Ö –º–µ—Ä–µ–∂–∞—Ö
- –ü—Ä–∞—Ü—é—î –Ω–∞ –∫–∞–Ω–∞–ª—å–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ

#### –ü—Ä–æ—Ü–µ—Å ARP:

**1. ARP Request:**
```
–ü—Ä–∏—Å—Ç—Ä—ñ–π A —Ö–æ—á–µ –∑–Ω–∞—Ç–∏ MAC-–∞–¥—Ä–µ—Å—É –ø—Ä–∏—Å—Ç—Ä–æ—é B (192.168.1.2)
–í—ñ–¥–ø—Ä–∞–≤–ª—è—î broadcast ARP Request:
  "–•—Ç–æ –º–∞—î IP 192.168.1.2? –°–∫–∞–∂–∏ –º–µ–Ω—ñ —Å–≤–æ—é MAC-–∞–¥—Ä–µ—Å—É"
```

**2. ARP Reply:**
```
–ü—Ä–∏—Å—Ç—Ä—ñ–π B –æ—Ç—Ä–∏–º—É—î –∑–∞–ø–∏—Ç
–í—ñ–¥–ø–æ–≤—ñ–¥–∞—î unicast ARP Reply:
  "–Ø –º–∞—é IP 192.168.1.2, –º–æ—è MAC-–∞–¥—Ä–µ—Å–∞: BB:BB:BB:BB:BB:BB"
```

**3. ARP Cache:**
```
–ü—Ä–∏—Å—Ç—Ä—ñ–π A –∑–±–µ—Ä—ñ–≥–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤ ARP —Ç–∞–±–ª–∏—Ü—ñ
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –¥–ª—è –º–∞–π–±—É—Ç–Ω—ñ—Ö –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ–π
```

#### ARP —Ç–∞–±–ª–∏—Ü—è:

**–ü–µ—Ä–µ–≥–ª—è–¥ (Windows):**
```cmd
arp -a
```

**–ü–µ—Ä–µ–≥–ª—è–¥ (Linux):**
```bash
arp -a
```

**–ü–µ—Ä–µ–≥–ª—è–¥ (Cisco):**
```cisco
show arp
```

**–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É:**
```
Internet Address      Physical Address      Type
192.168.1.1          00-1A-2B-3C-4D-5E     dynamic
192.168.1.2          AA-BB-CC-DD-EE-FF     dynamic
```

#### –¢–∏–ø–∏ ARP –∑–∞–ø–∏—Å—ñ–≤:

- **Dynamic:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞–Ω—ñ, –º–∞—é—Ç—å —á–∞—Å –∂–∏—Ç—Ç—è
- **Static:** –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –≤—Ä—É—á–Ω—É, –ø–æ—Å—Ç—ñ–π–Ω—ñ

#### Gratuitous ARP:

- ARP –∑–∞–ø–∏—Ç –∑ –≤–ª–∞—Å–Ω–æ—é IP-–∞–¥—Ä–µ—Å–æ—é
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è:
  - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ IP-–∞–¥—Ä–µ—Å
  - –û–Ω–æ–≤–ª–µ–Ω–Ω—è ARP —Ç–∞–±–ª–∏—Ü—å —ñ–Ω—à–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤

---

### 5.2.2 ICMP (Internet Control Message Protocol)

**ICMP** - –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –æ–±–º—ñ–Ω—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏ –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

#### –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:

- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏
- –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –º–µ—Ä–µ–∂—ñ
- –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ

#### –¢–∏–ø–∏ ICMP –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:

**1. Echo Request / Echo Reply (Ping):**
```
Echo Request: –ó–∞–ø–∏—Ç –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
Echo Reply: –í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –∑–∞–ø–∏—Ç
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ—é ping
```

**2. Destination Unreachable:**
```
–ú–µ—Ä–µ–∂–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
–•–æ—Å—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π
–ü–æ—Ä—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π
```

**3. Time Exceeded:**
```
TTL –¥–æ—Å—è–≥ 0 (traceroute)
–§—Ä–∞–≥–º–µ–Ω—Ç –Ω–µ –∑—ñ–±—Ä–∞–Ω–æ –≤—á–∞—Å–Ω–æ
```

**4. Redirect:**
```
–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –≤–∫–∞–∑—É—î –∫—Ä–∞—â–∏–π —à–ª—è—Ö
```

**5. Source Quench:**
```
–ó–∞–ø–∏—Ç –Ω–∞ –∑–º–µ–Ω—à–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ –ø–µ—Ä–µ–¥–∞—á—ñ
–ó–∞—Å—Ç–∞—Ä—ñ–ª–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
```

#### –ö–æ–º–∞–Ω–¥–∏:

**Ping:**
```cmd
ping 192.168.1.1
ping google.com
```

**Traceroute (Windows):**
```cmd
tracert 192.168.1.1
```

**Traceroute (Linux/Cisco):**
```bash
traceroute 192.168.1.1
```

```cisco
traceroute 192.168.1.1
```

#### –§–æ—Ä–º–∞—Ç ICMP –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Type (8 bits) ‚îÇ Code (8 bits)   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Checksum (16 bits)              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Data (variable)                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 5.2.3 DHCP (Dynamic Host Configuration Protocol)

**DHCP** - –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è IP-–∞–¥—Ä–µ—Å —Ç–∞ —ñ–Ω—à–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –º–µ—Ä–µ–∂—ñ.

#### –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è IP-–∞–¥—Ä–µ—Å
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–∞—Å–∫–∏ –ø—ñ–¥–º–µ—Ä–µ–∂—ñ
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è default gateway
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è DNS —Å–µ—Ä–≤–µ—Ä—ñ–≤

#### –ü–µ—Ä–µ–≤–∞–≥–∏:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è:** –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—Ä—É—á–Ω—É
2. **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è:** –í—Å—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ
3. **–ì–Ω—É—á–∫—ñ—Å—Ç—å:** –õ–µ–≥–∫–æ –∑–º—ñ–Ω–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
4. **–ú–µ–Ω—à–µ –ø–æ–º–∏–ª–æ–∫:** –ù–µ–º–∞—î –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ IP-–∞–¥—Ä–µ—Å

#### –ü—Ä–æ—Ü–µ—Å DHCP (DORA):

**1. Discover:**
```
–ö–ª—ñ—î–Ω—Ç ‚Üí Broadcast
"–ú–µ–Ω—ñ –ø–æ—Ç—Ä—ñ–±–Ω–∞ IP-–∞–¥—Ä–µ—Å–∞"
```

**2. Offer:**
```
DHCP Server ‚Üí –ö–ª—ñ—î–Ω—Ç
"–û—Å—å IP-–∞–¥—Ä–µ—Å–∞ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏"
```

**3. Request:**
```
–ö–ª—ñ—î–Ω—Ç ‚Üí DHCP Server
"–ü—Ä–∏–π–º–∞—é —Ü—é IP-–∞–¥—Ä–µ—Å—É"
```

**4. Acknowledgment:**
```
DHCP Server ‚Üí –ö–ª—ñ—î–Ω—Ç
"–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é, IP-–∞–¥—Ä–µ—Å–∞ —Ç–≤–æ—è"
```

#### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è DHCP –Ω–∞ Cisco:

**–ë–∞–∑–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**
```cisco
Router(config)# ip dhcp pool LAN
Router(dhcp-config)# network 192.168.1.0 255.255.255.0
Router(dhcp-config)# default-router 192.168.1.1
Router(dhcp-config)# dns-server 8.8.8.8
Router(dhcp-config)# lease 7
Router(dhcp-config)# exit

Router(config)# ip dhcp excluded-address 192.168.1.1 192.168.1.10
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- `network`: –ú–µ—Ä–µ–∂–∞ –¥–ª—è —Ä–æ–∑–ø–æ–¥—ñ–ª—É –∞–¥—Ä–µ—Å
- `default-router`: Default gateway
- `dns-server`: DNS —Å–µ—Ä–≤–µ—Ä
- `lease`: –ß–∞—Å –æ—Ä–µ–Ω–¥–∏ (–¥–Ω—ñ)
- `excluded-address`: –í–∏–∫–ª—é—á–µ–Ω—ñ –∞–¥—Ä–µ—Å–∏ (–Ω–µ —Ä–æ–∑–¥–∞—é—Ç—å—Å—è)

#### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:

```cisco
# –ü–µ—Ä–µ–≥–ª—è–¥ DHCP –ø—É–ª—ñ–≤
show ip dhcp pool

# –ü–µ—Ä–µ–≥–ª—è–¥ –æ—Ä–µ–Ω–¥
show ip dhcp binding

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
show ip dhcp server statistics
```

---

### 5.2.4 DNS (Domain Name System)

**DNS** - —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ–º–µ–Ω–Ω–∏—Ö —ñ–º–µ–Ω –≤ IP-–∞–¥—Ä–µ—Å–∏.

#### –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:

- –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–º–µ–Ω –≤ IP-–∞–¥—Ä–µ—Å–∏
- –ó–≤–æ—Ä–æ—Ç–Ω–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è (IP ‚Üí —ñ–º'—è)
- –†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö

#### –ü—Ä–æ—Ü–µ—Å DNS –∑–∞–ø–∏—Ç—É:

**1. –ö–ª—ñ—î–Ω—Ç –∑–∞–ø–∏—Ç—É—î:**
```
–ö–ª—ñ—î–Ω—Ç: "–Ø–∫–∞ IP-–∞–¥—Ä–µ—Å–∞ –¥–ª—è google.com?"
```

**2. –õ–æ–∫–∞–ª—å–Ω–∏–π DNS —Å–µ—Ä–≤–µ—Ä:**
```
–ü–µ—Ä–µ–≤—ñ—Ä—è—î –∫–µ—à
–Ø–∫—â–æ –Ω–µ–º–∞—î ‚Üí –∑–∞–ø–∏—Ç—É—î root —Å–µ—Ä–≤–µ—Ä–∏
```

**3. –†–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –ø–æ—à—É–∫:**
```
Root —Å–µ—Ä–≤–µ—Ä ‚Üí .com —Å–µ—Ä–≤–µ—Ä ‚Üí google.com —Å–µ—Ä–≤–µ—Ä
```

**4. –í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```
google.com ‚Üí 172.217.164.110
```

#### –¢–∏–ø–∏ DNS –∑–∞–ø–∏—Å—ñ–≤:

**A Record:**
```
google.com ‚Üí 172.217.164.110
```

**AAAA Record (IPv6):**
```
google.com ‚Üí 2607:f8b0:4004:c1b::65
```

**CNAME Record (Alias):**
```
www.google.com ‚Üí google.com
```

**MX Record (Mail Exchange):**
```
gmail.com ‚Üí mail.google.com
```

**NS Record (Name Server):**
```
google.com ‚Üí ns1.google.com
```

#### –ö–æ–º–∞–Ω–¥–∏:

**nslookup:**
```cmd
nslookup google.com
```

**dig (Linux):**
```bash
dig google.com
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ DNS –Ω–∞ Windows:**
```cmd
ipconfig /displaydns
ipconfig /flushdns
```

---

### 5.2.5 NAT (Network Address Translation) - –æ—Å–Ω–æ–≤–∏

**NAT** - –º–µ—Ö–∞–Ω—ñ–∑–º –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å –≤ –ø—É–±–ª—ñ—á–Ω—ñ —Ç–∞ –Ω–∞–≤–ø–∞–∫–∏.

#### –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:

- –ï–∫–æ–Ω–æ–º—ñ—è –ø—É–±–ª—ñ—á–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å
- –ë–µ–∑–ø–µ–∫–∞ (–ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –∞–¥—Ä–µ—Å)
- –ì–Ω—É—á–∫—ñ—Å—Ç—å (–ª–µ–≥–∫–æ –∑–º—ñ–Ω–∏—Ç–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞)

#### –¢–∏–ø–∏ NAT:

**1. Static NAT:**
```
–û–¥–Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω–∞ –∞–¥—Ä–µ—Å–∞ ‚Üí –æ–¥–Ω–∞ –ø—É–±–ª—ñ—á–Ω–∞ –∞–¥—Ä–µ—Å–∞
1:1 –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å
```

**2. Dynamic NAT:**
```
–ü—É–ª –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –∞–¥—Ä–µ—Å ‚Üí –ø—É–ª –ø—É–±–ª—ñ—á–Ω–∏—Ö –∞–¥—Ä–µ—Å
N:M –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å
```

**3. PAT (Port Address Translation / NAT Overload):**
```
–ë–∞–≥–∞—Ç–æ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –∞–¥—Ä–µ—Å ‚Üí –æ–¥–Ω–∞ –ø—É–±–ª—ñ—á–Ω–∞ –∞–¥—Ä–µ—Å–∞
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–æ—Ä—Ç–∏ –¥–ª—è —Ä–æ–∑—Ä—ñ–∑–Ω–µ–Ω–Ω—è
–ù–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π —Ç–∏–ø
```

#### –ü—Ä–æ—Ü–µ—Å PAT:

**–í–∏—Ö—ñ–¥–Ω–∏–π –ø–∞–∫–µ—Ç:**
```
Source IP: 192.168.1.10:50000
Destination IP: 8.8.8.8:53

–ü—ñ—Å–ª—è NAT:
Source IP: 203.0.113.1:1024
Destination IP: 8.8.8.8:53
```

**–í—Ö—ñ–¥–Ω–∏–π –ø–∞–∫–µ—Ç:**
```
Source IP: 8.8.8.8:53
Destination IP: 203.0.113.1:1024

–ü—ñ—Å–ª—è NAT:
Source IP: 8.8.8.8:53
Destination IP: 192.168.1.10:50000
```

#### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è NAT –Ω–∞ Cisco:

**1. –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö —Ç–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤:**
```cisco
Router(config)# interface FastEthernet0/0
Router(config-if)# ip nat inside
Router(config-if)# exit

Router(config)# interface Serial0/0/0
Router(config-if)# ip nat outside
Router(config-if)# exit
```

**2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è PAT:**
```cisco
Router(config)# access-list 1 permit 192.168.1.0 0.0.0.255
Router(config)# ip nat inside source list 1 interface Serial0/0/0 overload
```

**3. Static NAT (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):**
```cisco
Router(config)# ip nat inside source static 192.168.1.10 203.0.113.1
```

#### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:

```cisco
# –ü–µ—Ä–µ–≥–ª—è–¥ NAT —Ç–∞–±–ª–∏—Ü—ñ
show ip nat translations

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ NAT
show ip nat statistics
```

#### –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É:

```
Pro  Inside global     Inside local       Outside local      Outside global
tcp  203.0.113.1:1024  192.168.1.10:50000 8.8.8.8:53         8.8.8.8:53
```

---

## üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

### –ó–∞–≤–¥–∞–Ω–Ω—è 1: –ê–Ω–∞–ª—ñ–∑ TCP handshake

–ü—Ä–æ—Å—Ç–µ–∂—Ç–µ –ø—Ä–æ—Ü–µ—Å 3-way handshake –¥–ª—è –∑'—î–¥–Ω–∞–Ω–Ω—è –¥–æ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞.

**–†—ñ—à–µ–Ω–Ω—è:**
```
1. –ö–ª—ñ—î–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä: SYN (seq=1000)
2. –°–µ—Ä–≤–µ—Ä ‚Üí –ö–ª—ñ—î–Ω—Ç: SYN-ACK (seq=5000, ack=1001)
3. –ö–ª—ñ—î–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä: ACK (ack=5001)
```

### –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è DHCP

–ù–∞–ª–∞—à—Ç—É–π—Ç–µ DHCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –º–µ—Ä–µ–∂—ñ 192.168.1.0/24:
- Default gateway: 192.168.1.1
- DNS: 8.8.8.8
- –í–∏–∫–ª—é—á–∏—Ç–∏ –∞–¥—Ä–µ—Å–∏ 192.168.1.1-192.168.1.10

**–†—ñ—à–µ–Ω–Ω—è:**
```cisco
Router(config)# ip dhcp pool LAN
Router(dhcp-config)# network 192.168.1.0 255.255.255.0
Router(dhcp-config)# default-router 192.168.1.1
Router(dhcp-config)# dns-server 8.8.8.8
Router(dhcp-config)# exit
Router(config)# ip dhcp excluded-address 192.168.1.1 192.168.1.10
```

### –ó–∞–≤–¥–∞–Ω–Ω—è 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è NAT

–ù–∞–ª–∞—à—Ç—É–π—Ç–µ PAT –¥–ª—è –º–µ—Ä–µ–∂—ñ 192.168.1.0/24 —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å Serial0/0/0.

**–†—ñ—à–µ–Ω–Ω—è:**
```cisco
Router(config)# interface FastEthernet0/0
Router(config-if)# ip nat inside
Router(config-if)# exit

Router(config)# interface Serial0/0/0
Router(config-if)# ip nat outside
Router(config-if)# exit

Router(config)# access-list 1 permit 192.168.1.0 0.0.0.255
Router(config)# ip nat inside source list 1 interface Serial0/0/0 overload
```

---

## üìù –¢–µ—Å—Ç–∏ –¥–ª—è —Å–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

### –¢–µ—Å—Ç 1: TCP —Ç–∞ UDP

**–ü–∏—Ç–∞–Ω–Ω—è 1:** –°–∫—ñ–ª—å–∫–∏ –∫—Ä–æ–∫—ñ–≤ —É –ø—Ä–æ—Ü–µ—Å—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è TCP –∑'—î–¥–Ω–∞–Ω–Ω—è?
- [ ] A) 2
- [ ] B) 3
- [ ] C) 4
- [ ] D) 5

**–ü–∏—Ç–∞–Ω–Ω—è 2:** –Ø–∫–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è VoIP?
- [ ] A) TCP
- [ ] B) UDP
- [ ] C) –û–±–∏–¥–≤–∞
- [ ] D) –ñ–æ–¥–µ–Ω

**–ü–∏—Ç–∞–Ω–Ω—è 3:** –Ø–∫–∏–π –¥—ñ–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç—ñ–≤ —î well-known?
- [ ] A) 0-1023
- [ ] B) 1024-49151
- [ ] C) 49152-65535
- [ ] D) 0-65535

**–í—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
1. B) 3 (3-way handshake)
2. B) UDP (—à–≤–∏–¥–∫—ñ—Å—Ç—å –≤–∞–∂–ª–∏–≤—ñ—à–∞ –∑–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å)
3. A) 0-1023

### –¢–µ—Å—Ç 2: –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏

**–ü–∏—Ç–∞–Ω–Ω—è 1:** –Ø–∫–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è IP –≤ MAC?
- [ ] A) DNS
- [ ] B) ARP
- [ ] C) DHCP
- [ ] D) ICMP

**–ü–∏—Ç–∞–Ω–Ω—è 2:** –Ø–∫–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è ping?
- [ ] A) ARP
- [ ] B) ICMP
- [ ] C) DHCP
- [ ] D) DNS

**–ü–∏—Ç–∞–Ω–Ω—è 3:** –Ø–∫–∏–π —Ç–∏–ø NAT –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π?
- [ ] A) Static NAT
- [ ] B) Dynamic NAT
- [ ] C) PAT
- [ ] D) –í—Å—ñ –æ–¥–Ω–∞–∫–æ–≤–æ

**–í—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
1. B) ARP
2. B) ICMP
3. C) PAT (Port Address Translation)

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏ –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è

### –í—ñ–¥–µ–æ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏:
- [ ] Jeremy's IT Lab - "CCNA TCP/UDP"
- [ ] NetworkChuck - "TCP vs UDP"
- [ ] Professor Messer - "Network+ Transport Layer"

### –ü—Ä–∞–∫—Ç–∏–∫–∞:
- [ ] –ê–Ω–∞–ª—ñ–∑ TCP/UDP –ø–∞–∫–µ—Ç—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Wireshark
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è DHCP –≤ Packet Tracer
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è NAT –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ñ

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:
- [ ] Wireshark - –∞–Ω–∞–ª—ñ–∑ –ø–∞–∫–µ—Ç—ñ–≤
- [ ] Packet Tracer - —Å–∏–º—É–ª—è—Ü—ñ—è
- [ ] nslookup, dig - DNS –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ç–∏–∂–Ω—è 9-10

### –¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –∑–Ω–∞–Ω–Ω—è:
- [ ] –†–æ–∑—É–º—ñ—é —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ TCP —Ç–∞ UDP
- [ ] –ó–Ω–∞—é –ø—Ä–æ—Ü–µ—Å 3-way handshake
- [ ] –†–æ–∑—É–º—ñ—é –ø—Ä–æ—Ü–µ—Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è TCP –∑'—î–¥–Ω–∞–Ω–Ω—è
- [ ] –ó–Ω–∞—é –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ä—è–¥–∫–æ–≤–∏—Ö –Ω–æ–º–µ—Ä—ñ–≤ —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—å
- [ ] –†–æ–∑—É–º—ñ—é –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫—É —Ç–∞ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- [ ] –ó–Ω–∞—é –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ä—Ç—ñ–≤ —Ç–∞ —Å–æ–∫–µ—Ç—ñ–≤
- [ ] –†–æ–∑—É–º—ñ—é —Ä–æ–±–æ—Ç—É ARP
- [ ] –ó–Ω–∞—é —Ç–∏–ø–∏ ICMP –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- [ ] –†–æ–∑—É–º—ñ—é –ø—Ä–æ—Ü–µ—Å DHCP (DORA)
- [ ] –ó–Ω–∞—é –æ—Å–Ω–æ–≤–∏ DNS
- [ ] –†–æ–∑—É–º—ñ—é —Ç–∏–ø–∏ NAT —Ç–∞ —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏:
- [ ] –ú–æ–∂—É –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ TCP handshake
- [ ] –ú–æ–∂—É –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ DHCP —Å–µ—Ä–≤–µ—Ä
- [ ] –ú–æ–∂—É –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ NAT/PAT
- [ ] –ú–æ–∂—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ ping —Ç–∞ traceroute
- [ ] –ú–æ–∂—É –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ ARP —Ç–∞–±–ª–∏—Ü—é
- [ ] –ü—Ä–æ–π—à–æ–≤ —Ç–µ—Å—Ç–∏ –¥–ª—è —Å–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º 80%+

---

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

–ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ç–∏–∂–Ω—è 9-10 –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ:
- **–¢–∏–∂–¥–µ–Ω—å 11-12:** –ë–µ–∑–ø–µ–∫–∞ –º–µ—Ä–µ–∂
- ACL (Access Control Lists)
- SSH –∑–∞–º—ñ—Å—Ç—å Telnet
- Port Security

**–£—Å–ø—ñ—Ö—ñ–≤ —É –Ω–∞–≤—á–∞–Ω–Ω—ñ! üöÄ**

*–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è: 2024*

